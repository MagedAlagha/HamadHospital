<ng-container *ngIf="MixDetails$ | async as data">
  <section class="news mt-5">
    <div class="container">
      <div class="row d-flex justify-content-center">
        <div class="col-md-8">
          <div class="section-title">
            <div class="section-title">
              <ng-container *ngIf="data.MainServiceID === 1">
                <span>التأهيل الطبي</span>
              </ng-container>
              <ng-container *ngIf="data.MainServiceID === 2">
                <span>الاطراف الصناعية</span>
              </ng-container>
              <ng-container *ngIf="data.MainServiceID === 3">
                <span>السمع والتوازن</span>
              </ng-container>
              <ng-container *ngIf="data.MainServiceID === 4">
                <span>العيادة الخارجية</span>
              </ng-container>
              <ng-container *ngIf="data.MainServiceID === 5">
                <span>خدمات طبية مساندة</span>
              </ng-container>
              <ng-container *ngIf="data.MainServiceID === 6">
                <span>غير مصنف</span>
              </ng-container>
              <h1>{{ data?.TitleAr ? data?.TitleAr : data?.Title }}</h1>
            </div>
          </div>

          <!--  -->
          <!-- <ng-container
            *ngIf="data?.ImagePath && data.MediaSectionID?.includes(7)"
          >
            <img
              [src]="'http://hamad_api.accessline.ps' + data?.ImagePath"
              style="
                object-fit: cover;
                width: 100%;
                max-height: 450px;
                border-radius: 8px;
              "
              class="img-fluid"
              alt=""
            />
          </ng-container> -->

          <ng-container
            *ngIf="
              data.MediaSectionID?.includes(3) ||
              (data?.VideoPath && data.MediaSectionID?.includes(7))
            "
          >
            <div>
              <youtube-player
                videoId="{{ data?.VideoPath.substring(32) }}"
                [height]="height"
                [width]="width"
              >
              </youtube-player>
            </div>
          </ng-container>

          <ng-container
            *ngIf="
              data.MediaSectionID?.includes(1) ||
              data.MediaSectionID?.includes(2) ||
              data.MediaSectionID?.includes(5) ||
              data.MediaSectionID?.includes(6) ||
              data.MediaSectionID?.includes(8) ||
              data.MediaSectionID?.includes(4) ||
              (data?.VideoPath &&
                data?.VideoPath &&
                data.MediaSectionID?.includes(7))
            "
          >
            <ng-container *ngIf="ImageSection$ | async as data">
              <p-galleria [numVisible]="3" [value]="data">
                <ng-template pTemplate="item" let-item>
                  <img
                    [lazyLoad]="
                      'http://hamad_api.accessline.ps' + item?.ImagePath
                    "
                    style="
                      width: 100%;
                      height: 567px;
                      object-fit: cover;
                      border-radius: 4px;
                    "
                  />
                </ng-template>

                <ng-template pTemplate="thumbnail" let-item>
                  <div class="grid grid-nogutter justify-content-center">
                    <img
                      [lazyLoad]="
                        'http://hamad_api.accessline.ps' + item?.ImagePath
                      "
                      width="80%"
                    />
                  </div>
                </ng-template>
              </p-galleria>
            </ng-container>
          </ng-container>

          <!-- <ng-container *ngIf="data.MediaSectionID?.includes(7)">
            <ng-container *ngIf="data.VideoPath">
              <div>
                <youtube-player
                  videoId="{{ data?.VideoPath.substring(32) }}"
                  [height]="height"
                  [width]="width"
                >
                </youtube-player>
              </div>
            </ng-container>

            <ng-container *ngIf="!data?.Images && !data?.VideoPath">
              <img
                [src]="'http://hamad_api.accessline.ps' + data?.ImagePath"
                style="
                  object-fit: cover;
                  width: 100%;
                  max-height: 450px;
                  border-radius: 8px;
                "
                class="img-fluid"
                alt=""
              />
            </ng-container>

            <ng-container *ngIf="data.Images">
              <ng-container *ngIf="ImageSection$ | async as data2">
                <p-galleria [numVisible]="3" [value]="data2">
                  <ng-template pTemplate="item" let-item>
                    <img
                      [lazyLoad]="
                        'http://hamad_api.accessline.ps' + item?.ImagePath
                      "
                      style="
                        width: 100%;
                        height: 567px;
                        object-fit: cover;
                        border-radius: 4px;
                      "
                    />
                  </ng-template>

                  <ng-template pTemplate="thumbnail" let-item>
                    <div class="grid grid-nogutter justify-content-center">
                      <img
                        [lazyLoad]="
                          'http://hamad_api.accessline.ps' + item?.ImagePath
                        "
                        width="80%"
                      />
                    </div>
                  </ng-template>
                </p-galleria>
              </ng-container>
            </ng-container>
          </ng-container> -->

          <div class="d-flex justify-content-between align-items-center my-4">
            <div class="entry-meta">
              <!--  <p> <span> بواسطة</span> / ايبسوم هو نموذج افتراضي </p> -->
              <span
                >نشر بتاريخ: <span>{{ data?.CreatedDate | date }} </span>
              </span>
            </div>
            <div class="share-post">
              <!--    <span> <i class="fa-brands fa-whatsapp"></i></span> -->
              <a [href]="pdfFile" target="_blank" class="pdf" *ngIf="pdfFile">PDF</a>

              <span
                ngxClipboard
                (click)="copy()"
                [pTooltip]="text"
                tooltipPosition="top"
                ><i class="fa-regular fa-clone ps-3"></i
              ></span>

            </div>
          </div>

          <div class="post-p">
            <p [innerHTML]="data?.DescAr ? data?.DescAr : data?.Desc"></p>
          </div>

          <!--  -->
        </div>
      </div>
    </div>
  </section>
  <div class="container mb-4">
    <div class="section-2 d-flex align-items-center mb-2">
      <div class="line"></div>
      <h2 class="d-inline-block ps-2">منوعات</h2>
    </div>
    <ng-container *ngIf="MediaSectionsItemsMix$ | async as data2">
      <div class="row">
        <ng-container *ngFor="let item of data2.slice(-3)">
          <div class="col-md-4 mt-md-0 mt-3" *ngIf="item.ID != data.ID">
            <div
              class="img"
              routerLink="/mix-details/{{ item.ID }}"
              (click)="showMixDetails(item)"
            >
              <img
                [lazyLoad]="'http://hamad_api.accessline.ps' + item?.ImagePath"
                style="
                  width: 100%;
                  object-fit: cover;
                  height: 260px;
                  border-radius: 6px;
                "
                class="img-fluid main-img"
                alt=""
              />
              <div class="d-flex justify-content-between img-title">
                <div class="post-pp">
                  <p
                    [innerHTML]="
                      isEn ? item?.Title : (item?.Title | slice : 0 : 35)
                    "
                  ></p>
                </div>
                <div>
                  <img src="../../../../assets/img/photo.svg" alt="" />
                </div>
              </div>
            </div>
          </div>
        </ng-container>
      </div>
    </ng-container>
  </div>
</ng-container>
